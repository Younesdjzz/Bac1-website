{% extends "base.html" %}

{% block titre %}
<h1>Listes des aéroports</h1>
{% endblock %}

{% block left_content %}{% endblock %}

{% block content %}

<h2>Airports list</h2>

<form method="GET" action="{{ url_for('airport.requete_aeroport') }}">
    <label for="airport">Choisir un aéroport :</label>
    <input list="airports" id="airport" name="airport_name" placeholder="Tapez le nom de l'aéroport" autocomplete="off">
    <datalist id="airports">
        {% for airport in airports %}
        <option value="{{ airport.name }}">
            {% endfor %}
    </datalist>
    <button type="submit">Voir les détails</button>
</form>

{% if airport_not_found %}
    <p>L'aéroport "{{ selected_airport }}" n'est pas répertorié dans notre base de données</p>
{% endif %}

{% if selected_airport and not airport_not_found %}

<h2>Vols par jour</h2>

<table>

    <tr>
        {% for vol in vols_jour %}
        <th>{{ vol.jour_semaine }}</th>
        {% endfor %}
    </tr>
    <tr>
        {% for vol in vols_jour %}
        <td>{{ vol.nombre_de_vols }}</td>
        {% endfor %}
    </tr>

</table>


<h2>Nombres de vols par type d'appareil</h2>

<table>
    <tr>
        <th>Type d'appareil</th>
        <th>Nombres de vols</th>
    </tr>
    {% for vol in vols_type %}
    <tr>
        <td>{{ vol.aircraft_type }}</td>
        <td>{{ vol.vols_totaux }}</td>
    </tr>
    {% endfor %}
</table>
{% endif %}

{% endblock %}

{% block right_content %}{% endblock %}